"use strict";(self.webpackChunkmarketing_backstage_test=self.webpackChunkmarketing_backstage_test||[]).push([[587],{15587:function(e,r,n){n.r(r),n.d(r,{default:function(){return de}});var i,a=n(70885),l=n(72791),t=n.t(l,2),o=n(11087),s=n(96578),d=n(86194),c=n(13967),p=n(68870),m=n(68096),u=n(94925),x=n(15712),h=n(39891),g=n(36151),f=n(20890),b=n(11607),Z=n(4834),j=n(5403),v=n(95450),y=n(74165),C=n(15861),w=n(1413),S=n(48550),k=n(14527),N=n(63466),_=n(13400),R=n(47071),W=n(92506),P=n(81724),I=(n(32899),n(86586)),E=n(20382),B=n(21996),A=n(4942),q=(i={"\u53f0\u5317\u5e02":["\u4e2d\u6b63\u5340","\u5927\u540c\u5340","\u4e2d\u5c71\u5340","\u842c\u83ef\u5340","\u4fe1\u7fa9\u5340","\u677e\u5c71\u5340","\u5927\u5b89\u5340","\u5357\u6e2f\u5340","\u5317\u6295\u5340","\u5167\u6e56\u5340","\u58eb\u6797\u5340","\u6587\u5c71\u5340"],"\u65b0\u5317\u5e02":["\u677f\u6a4b\u5340","\u65b0\u838a\u5340","\u6cf0\u5c71\u5340","\u6797\u53e3\u5340","\u6de1\u6c34\u5340","\u91d1\u5c71\u5340","\u516b\u91cc\u5340","\u842c\u91cc\u5340","\u77f3\u9580\u5340","\u4e09\u829d\u5340","\u745e\u82b3\u5340","\u6c50\u6b62\u5340","\u5e73\u6eaa\u5340","\u8ca2\u5bee\u5340","\u96d9\u6eaa\u5340","\u6df1\u5751\u5340","\u77f3\u7887\u5340","\u65b0\u5e97\u5340","\u576a\u6797\u5340","\u70cf\u4f86\u5340","\u4e2d\u548c\u5340","\u6c38\u548c\u5340","\u571f\u57ce\u5340","\u4e09\u5cfd\u5340","\u6a39\u6797\u5340","\u9daf\u6b4c\u5340","\u4e09\u91cd\u5340","\u8606\u6d32\u5340","\u4e94\u80a1\u5340"],"\u57fa\u9686\u5e02":["\u4ec1\u611b\u5340","\u4e2d\u6b63\u5340","\u4fe1\u7fa9\u5340","\u4e2d\u5c71\u5340","\u5b89\u6a02\u5340","\u6696\u6696\u5340","\u4e03\u5835\u5340"],"\u6843\u5712\u5e02":["\u6843\u5712\u5340","\u4e2d\u58e2\u5340","\u5e73\u93ae\u5340","\u516b\u5fb7\u5340","\u694a\u6885\u5340","\u8606\u7af9\u5340","\u9f9c\u5c71\u5340","\u9f8d\u6f6d\u5340","\u5927\u6eaa\u5340","\u5927\u5712\u5340","\u89c0\u97f3\u5340","\u65b0\u5c4b\u5340","\u5fa9\u8208\u5340"],"\u65b0\u7af9\u7e23":["\u7af9\u5317\u5e02","\u7af9\u6771\u93ae","\u65b0\u57d4\u93ae","\u95dc\u897f\u93ae","\u5ce8\u7709\u9109","\u5bf6\u5c71\u9109","\u5317\u57d4\u9109","\u6a6b\u5c71\u9109","\u828e\u6797\u9109","\u6e56\u53e3\u9109","\u65b0\u8c50\u9109","\u5c16\u77f3\u9109","\u4e94\u5cf0\u9109"],"\u82d7\u6817\u7e23":["\u82d7\u6817\u5e02","\u901a\u9704\u93ae","\u82d1\u88e1\u93ae","\u7af9\u5357\u93ae","\u982d\u4efd\u93ae","\u5f8c\u9f8d\u93ae","\u5353\u862d\u93ae","\u897f\u6e56\u9109","\u982d\u5c4b\u9109","\u516c\u9928\u9109","\u9285\u947c\u9109","\u4e09\u7fa9\u9109","\u9020\u6a4b\u9109","\u4e09\u7063\u9109","\u5357\u5e84\u9109","\u5927\u6e56\u9109","\u7345\u6f6d\u9109","\u6cf0\u5b89\u9109"],"\u53f0\u4e2d\u5e02":["\u4e2d\u5340","\u6771\u5340","\u5357\u5340","\u897f\u5340","\u5317\u5340","\u5317\u5c6f\u5340","\u897f\u5c6f\u5340","\u5357\u5c6f\u5340","\u592a\u5e73\u5340","\u5927\u91cc\u5340","\u9727\u5cf0\u5340","\u70cf\u65e5\u5340","\u8c50\u539f\u5340","\u540e\u91cc\u5340","\u77f3\u5ca1\u5340","\u6771\u52e2\u5340","\u548c\u5e73\u5340","\u65b0\u793e\u5340","\u6f6d\u5b50\u5340","\u5927\u96c5\u5340","\u795e\u5ca1\u5340","\u5927\u809a\u5340","\u6c99\u9e7f\u5340","\u9f8d\u4e95\u5340","\u68a7\u68f2\u5340","\u6e05\u6c34\u5340","\u5927\u7532\u5340","\u5916\u57d4\u5340","\u5927\u5b89\u5340"],"\u5f70\u5316\u7e23":["\u5f70\u5316\u5e02","\u54e1\u6797\u5e02","\u548c\u7f8e\u93ae","\u9e7f\u6e2f\u93ae","\u6eaa\u6e56\u93ae","\u4e8c\u6797\u93ae","\u7530\u4e2d\u93ae","\u5317\u6597\u93ae","\u82b1\u58c7\u9109","\u82ac\u5712\u9109","\u5927\u6751\u9109","\u6c38\u9756\u9109","\u4f38\u6e2f\u9109","\u7dda\u897f\u9109","\u798f\u8208\u9109","\u79c0\u6c34\u9109","\u57d4\u5fc3\u9109","\u57d4\u9e7d\u9109","\u5927\u57ce\u9109","\u82b3\u82d1\u9109","\u7af9\u5858\u9109","\u793e\u982d\u9109","\u4e8c\u6c34\u9109","\u7530\u5c3e\u9109","\u57e4\u982d\u9109","\u6eaa\u5dde\u9109"],"\u5357\u6295\u7e23":["\u5357\u6295\u5e02","\u57d4\u91cc\u93ae","\u8349\u5c6f\u93ae","\u7af9\u5c71\u93ae","\u96c6\u96c6\u93ae","\u540d\u9593\u9109","\u9e7f\u8c37\u9109","\u4e2d\u5bee\u9109","\u9b5a\u6c60\u9109","\u570b\u59d3\u9109","\u6c34\u91cc\u9109","\u4fe1\u7fa9\u9109","\u4ec1\u611b\u9109"]},(0,A.Z)(i,"\u5f70\u5316\u7e23",["\u5f70\u5316\u5e02","\u54e1\u6797\u93ae","\u548c\u7f8e\u93ae","\u9e7f\u6e2f\u93ae","\u6eaa\u6e56\u93ae","\u4e8c\u6797\u93ae","\u7530\u4e2d\u93ae","\u5317\u6597\u93ae","\u82b1\u58c7\u9109","\u82ac\u5712\u9109","\u5927\u6751\u9109","\u6c38\u9756\u9109","\u4f38\u6e2f\u9109","\u7dda\u897f\u9109","\u798f\u8208\u9109","\u79c0\u6c34\u9109","\u57d4\u5fc3\u9109","\u57d4\u9e7d\u9109","\u5927\u57ce\u9109","\u82b3\u82d1\u9109","\u7af9\u5858\u9109","\u793e\u982d\u9109","\u4e8c\u6c34\u9109","\u7530\u5c3e\u9109","\u57e4\u982d\u9109","\u6eaa\u5dde\u9109"]),(0,A.Z)(i,"\u96f2\u6797\u7e23",["\u6597\u516d\u5e02","\u6597\u5357\u93ae","\u864e\u5c3e\u93ae","\u897f\u87ba\u93ae","\u571f\u5eab\u93ae","\u5317\u6e2f\u93ae","\u83bf\u6850\u9109","\u6797\u5167\u9109","\u53e4\u5751\u9109","\u5927\u57e4\u9109","\u5d19\u80cc\u9109","\u4e8c\u5d19\u9109","\u9ea5\u5bee\u9109","\u53f0\u897f\u9109","\u6771\u52e2\u9109","\u8912\u5fe0\u9109","\u56db\u6e56\u9109","\u53e3\u6e56\u9109","\u6c34\u6797\u9109","\u5143\u9577\u9109"]),(0,A.Z)(i,"\u5609\u7fa9\u7e23",["\u592a\u4fdd\u5e02","\u6734\u5b50\u5e02","\u5e03\u888b\u93ae","\u5927\u6797\u93ae","\u6c11\u96c4\u9109","\u6eaa\u53e3\u9109","\u65b0\u6e2f\u9109","\u516d\u8173\u9109","\u6771\u77f3\u9109","\u7fa9\u7af9\u9109","\u9e7f\u8349\u9109","\u6c34\u4e0a\u9109","\u4e2d\u57d4\u9109","\u7af9\u5d0e\u9109","\u6885\u5c71\u9109","\u756a\u8def\u9109","\u5927\u57d4\u9109","\u963f\u91cc\u5c71\u9109"]),(0,A.Z)(i,"\u5609\u7fa9\u5e02",["\u6771\u5340","\u897f\u5340"]),(0,A.Z)(i,"\u53f0\u5357\u5e02",["\u4e2d\u897f\u5340","\u6771\u5340","\u5357\u5340","\u5317\u5340","\u5b89\u5e73\u5340","\u5b89\u5357\u5340","\u6c38\u5eb7\u5340","\u6b78\u4ec1\u5340","\u65b0\u5316\u5340","\u5de6\u93ae\u5340","\u7389\u4e95\u5340","\u6960\u897f\u5340","\u5357\u5316\u5340","\u4ec1\u5fb7\u5340","\u95dc\u5edf\u5340","\u9f8d\u5d0e\u5340","\u5b98\u7530\u5340","\u9ebb\u8c46\u5340","\u4f73\u91cc\u5340","\u897f\u6e2f\u5340","\u4e03\u80a1\u5340","\u5c07\u8ecd\u5340","\u5b78\u7532\u5340","\u5317\u9580\u5340","\u65b0\u71df\u5340","\u5f8c\u58c1\u5340","\u767d\u6cb3\u5340","\u6771\u5c71\u5340","\u516d\u7532\u5340","\u4e0b\u71df\u5340","\u67f3\u71df\u5340","\u9e7d\u6c34\u5340","\u5584\u5316\u5340","\u5927\u5167\u5340","\u5c71\u4e0a\u5340","\u65b0\u5e02\u5340","\u5b89\u5b9a\u5340"]),(0,A.Z)(i,"\u9ad8\u96c4\u5e02",["\u6960\u6893\u5340","\u5de6\u71df\u5340","\u9f13\u5c71\u5340","\u4e09\u6c11\u5340","\u9e7d\u57d5\u5340","\u524d\u91d1\u5340","\u65b0\u8208\u5340","\u82d3\u96c5\u5340","\u524d\u93ae\u5340","\u5c0f\u6e2f\u5340","\u65d7\u6d25\u5340","\u9cf3\u5c71\u5340","\u5927\u5bee\u5340","\u9ce5\u677e\u5340","\u6797\u5712\u5340","\u4ec1\u6b66\u5340","\u5927\u6a39\u5340","\u5927\u793e\u5340","\u5ca1\u5c71\u5340","\u8def\u7af9\u5340","\u6a4b\u982d\u5340","\u6893\u5b98\u5340","\u5f4c\u9640\u5340","\u6c38\u5b89\u5340","\u71d5\u5de2\u5340","\u7530\u5bee\u5340","\u963f\u84ee\u5340","\u8304\u8423\u5340","\u6e56\u5167\u5340","\u65d7\u5c71\u5340","\u7f8e\u6fc3\u5340","\u5167\u9580\u5340","\u6749\u6797\u5340","\u7532\u4ed9\u5340","\u516d\u9f9c\u5340","\u8302\u6797\u5340","\u6843\u6e90\u5340","\u90a3\u746a\u590f\u5340"]),(0,A.Z)(i,"\u5c4f\u6771\u7e23",["\u5c4f\u6771\u5e02","\u6f6e\u5dde\u93ae","\u6771\u6e2f\u93ae","\u6046\u6625\u93ae","\u842c\u4e39\u9109","\u9577\u6cbb\u9109","\u9e9f\u6d1b\u9109","\u4e5d\u5982\u9109","\u91cc\u6e2f\u9109","\u9e7d\u57d4\u9109","\u9ad8\u6a39\u9109","\u842c\u5dd2\u9109","\u5167\u57d4\u9109","\u7af9\u7530\u9109","\u65b0\u57e4\u9109","\u678b\u5bee\u9109","\u65b0\u5712\u9109","\u5d01\u9802\u9109","\u6797\u908a\u9109","\u5357\u5dde\u9109","\u4f73\u51ac\u9109","\u7409\u7403\u9109","\u8eca\u57ce\u9109","\u6eff\u5dde\u9109","\u678b\u5c71\u9109","\u9727\u53f0\u9109","\u746a\u5bb6\u9109","\u6cf0\u6b66\u9109","\u4f86\u7fa9\u9109","\u6625\u65e5\u9109","\u7345\u5b50\u9109","\u7261\u4e39\u9109","\u4e09\u5730\u9580\u9109"]),(0,A.Z)(i,"\u5b9c\u862d\u7e23",["\u5b9c\u862d\u5e02","\u7f85\u6771\u93ae","\u8607\u6fb3\u93ae","\u982d\u57ce\u93ae","\u7901\u6eaa\u9109","\u58ef\u570d\u9109","\u54e1\u5c71\u9109","\u51ac\u5c71\u9109","\u4e94\u7d50\u9109","\u4e09\u661f\u9109","\u5927\u540c\u9109","\u5357\u6fb3\u9109"]),(0,A.Z)(i,"\u82b1\u84ee\u7e23",["\u82b1\u84ee\u5e02","\u9cf3\u6797\u93ae","\u7389\u91cc\u93ae","\u65b0\u57ce\u9109","\u5409\u5b89\u9109","\u58fd\u8c50\u9109","\u79c0\u6797\u9109","\u5149\u5fa9\u9109","\u8c50\u6ff1\u9109","\u745e\u7a57\u9109","\u842c\u69ae\u9109","\u5bcc\u91cc\u9109","\u5353\u6eaa\u9109"]),(0,A.Z)(i,"\u53f0\u6771\u7e23",["\u53f0\u6771\u5e02","\u6210\u529f\u93ae","\u95dc\u5c71\u93ae","\u9577\u6ff1\u9109","\u6d77\u7aef\u9109","\u6c60\u4e0a\u9109","\u6771\u6cb3\u9109","\u9e7f\u91ce\u9109","\u5ef6\u5e73\u9109","\u5351\u5357\u9109","\u91d1\u5cf0\u9109","\u5927\u6b66\u9109","\u9054\u4ec1\u9109","\u7da0\u5cf6\u9109","\u862d\u5dbc\u9109","\u592a\u9ebb\u91cc\u9109"]),(0,A.Z)(i,"\u6f8e\u6e56\u7e23",["\u99ac\u516c\u5e02","\u6e56\u897f\u9109","\u767d\u6c99\u9109","\u897f\u5dbc\u9109","\u671b\u5b89\u9109","\u4e03\u7f8e\u9109"]),(0,A.Z)(i,"\u91d1\u9580\u7e23",["\u91d1\u57ce\u93ae","\u91d1\u6e56\u93ae","\u91d1\u6c99\u93ae","\u91d1\u5be7\u9109","\u70c8\u5dbc\u9109","\u70cf\u5775\u9109"]),(0,A.Z)(i,"\u9023\u6c5f\u7e23",["\u5357\u7aff\u9109","\u5317\u7aff\u9109","\u8392\u5149\u9109","\u6771\u5f15\u9109"]),i),L=n(49152),U=n(62144),T=n(7457),z=n(29569),M=n(3710),F=n(67381),D=n(98551),V=n(59434),G=n(80184),O=P.Ry().shape({name:P.Z_().required("required"),status:P.Z_().required("required"),brandId:P.Z_().required("required"),brandName:P.Z_().required("required"),principalName:P.Z_().required("required"),principalLineUrl:P.Z_().required("required"),principalEmail:P.Z_().email("invalid email")});function H(e){var r=e.props,n=(0,V.v9)((function(e){return e.entity})).entityName,i=(0,c.Z)(),t=(0,b.TV)(i.palette.mode),o=(0,l.useState)(!1),Z=(0,a.Z)(o,2),j=Z[0],v=Z[1],P=(0,l.useState)("disable"),A=(0,a.Z)(P,2),H=A[0],J=A[1],$=function(e){J(e.target.value)},Q=(0,l.useState)(!1),K=(0,a.Z)(Q,2),X=K[0],Y=K[1],ee=function(){return Y((function(e){return!e}))},re=function(e){e.preventDefault()},ne=(0,l.useState)(""),ie=(0,a.Z)(ne,2),ae=ie[0],le=ie[1],te=(0,l.useState)([]),oe=(0,a.Z)(te,2),se=oe[0],de=oe[1],ce=(0,l.useState)(""),pe=(0,a.Z)(ce,2),me=pe[0],ue=pe[1],xe=function(e){le(e.target.value),de(q[e.target.value]),ue("")},he=function(e){ue(e.target.value)},ge=(0,l.useState)(""),fe=(0,a.Z)(ge,2),be=fe[0],Ze=fe[1],je=(0,l.useState)({address:"",coordinates:{lat:0,lng:120}}),ve=(0,a.Z)(je,2),ye=ve[0],Ce=ye.address,we=ye.coordinates,Se=ve[1],ke=(0,l.useState)({id:-1,brandId:-1,brandName:"",name:"",intro:"",status:"",principalName:"",principalAccount:"",principalPassword:"",principalLineUrl:"https://lin.ee/",principalEmail:""}),Ne=(0,a.Z)(ke,2),_e=Ne[0],Re=Ne[1],We=(0,I.t)(d.I2),Pe=(0,a.Z)(We,2),Ie=Pe[0],Ee=Pe[1],Be=Ee.loading,Ae=Ee.error,qe=Ee.data;(0,l.useEffect)((function(){qe&&(console.log("REMOVE SUCCESS"),window.location.reload())}),[qe]);var Le=(0,I.t)(d.mU),Ue=(0,a.Z)(Le,2),Te=Ue[0],ze=Ue[1],Me=(ze.loading,ze.error,ze.data);(0,l.useEffect)((function(){Me&&(window.location.reload(),console.log("UPDATE SUCCESS"))}),[Me]);var Fe=(0,s.a)(d.on,{variables:{args:[{id:r.id}]}}),De=(Fe.loading,Fe.error,Fe.data);(0,l.useEffect)((function(){if(De){var e=(0,T.Hu)(De.getStore[0]);Re({id:r.id,status:e.status.name,name:e.name,intro:e.intro,brandId:e.brand.id,brandName:e.brand.name,principalName:e.principal.name,principalAccount:e.principal.account,principalEmail:e.principal.email,principalPassword:"",principalLineUrl:e.principal.lineUrl}),null===De.getStore[0].cover&&"null"===De.getStore[0].cover||rr(De.getStore[0].cover),le(De.getStore[0].location.city),de(q[De.getStore[0].location.city]),ue(De.getStore[0].location.district),Se((function(e){return(0,w.Z)((0,w.Z)({},e),{},{address:De.getStore[0].location.address})})),"banned"!==De.getStore[0].status.name&&J(De.getStore[0].status.name)}}),[De]);var Ve=function(){var e=(0,C.Z)((0,y.Z)().mark((function e(r){var n,i,a,l,t;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.NU)(r);case 2:return n=e.sent,i=n[0].address_components[0].long_name+n[0].address_components[1].long_name,e.next=6,(0,E.WV)(n[0]);case 6:a=e.sent,l=n[0].address_components[4].long_name,t=n[0].address_components[3].long_name,Ze(r),Se({address:i,coordinates:a}),l in q&&(le(l),de(q[l]),ue(t)),console.log("city"+l+"district"+t+"Coordinate:"+we.lat+","+we.lng);case 13:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Ge=function(){window.confirm("Are you sure you want to delete this store?")&&Ie({variables:{args:[{id:r.id}]}})},Oe=(0,I.t)(d.h4),He=(0,a.Z)(Oe,2),Je=He[0],$e=He[1],Qe=($e.loading,$e.error,$e.data);(0,l.useEffect)((function(){Qe&&window.location.reload()}),[Qe]);var Ke=function(e){window.confirm("Are you sure you want to unban this store?")&&(Je({variables:{args:[{id:r.id}],reason:"null"}}),console.log("unbaned"))},Xe=(0,l.useState)(L.uI),Ye=(0,a.Z)(Xe,2),er=Ye[0],rr=Ye[1],nr=function(e){rr(e)},ir=function(){v(!j)};return j?document.body.classList.add("active-modal"):document.body.classList.remove("active-modal"),Be?(0,G.jsx)(F.Z,{}):Ae?(0,G.jsx)(D.Z,{}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(g.Z,{onClick:ir,className:"btn-modal",sx:{color:t.primary[100],border:"1px solid #111",borderColor:t.blueAccent[100]},children:"\u4fee\u6539"}),j&&(0,G.jsxs)(p.Z,{className:"modal",children:[(0,G.jsx)(p.Z,{onClick:ir,className:"overlay"}),(0,G.jsx)(p.Z,{className:"modal-content",backgroundColor:t.primary[500],children:(0,G.jsx)(p.Z,{m:"20px",children:(0,G.jsx)(W.J9,{onSubmit:function(e){var r={args:[{id:e.id}],name:e.name,cover:er,location:{city:ae,district:me,address:Ce,description:"NONE"},principal:{name:e.principalName,lineUrl:e.principalLineUrl}};""!==e.intro&&(r.intro=e.intro),""!==e.principalEmail&&(r.principal.email=e.principalEmail),0!==we.lat&&120!==we.lng&&(r.location.coordinate={latitude:we.lat,longitude:we.lng}),""!==e.principalPassword&&(r.principal.password=e.principalPassword),"banned"!==_e.status&&(r.statusId=H),Te({variables:r})},initialValues:_e,validationSchema:O,children:function(e){var i=e.values,a=e.errors,l=e.touched,o=e.handleBlur,s=e.handleChange,d=e.handleSubmit;return(0,G.jsxs)("form",{onSubmit:d,children:[(0,G.jsxs)(p.Z,{children:[(0,G.jsxs)(p.Z,{display:"flex",m:"1rem 0",children:[(0,G.jsxs)(p.Z,{width:"35%",display:"flex",flexDirection:"column",justifyContent:"center",children:[(0,G.jsx)(f.Z,{variant:"h2",sx:{mb:"10px",fontSize:"2rem",fontWeight:"600",color:"white"},children:"\u4fee\u6539"}),(0,G.jsx)(p.Z,{textAlign:"center",display:"flex",children:"disable"===_e.status?(0,G.jsx)(f.Z,{variant:"h5",color:t.primary[100],children:"\u505c\u7528"}):"banned"===_e.status?(0,G.jsx)(f.Z,{variant:"h5",color:t.redAccent[500],children:"\u5c01\u9396"}):(0,G.jsx)(f.Z,{variant:"h5",color:t.greenAccent[500],children:"\u6b63\u5e38"})})]}),(0,G.jsx)(p.Z,{width:"65%",children:(0,G.jsx)(U.Z,{handleSuccess:nr,imagePlaceHolder:(0,T.q8)(er,"cover"),type:"store"})})]}),(0,G.jsxs)(p.Z,{display:"flex",justifyContent:"space-between",children:[(0,G.jsx)(S.Z,{className:"modal_input_textfield",fullWidth:!0,variant:"filled",type:"text",label:"\u66b1\u7a31",onBlur:o,onChange:s,value:i.name,name:"name",error:!!l.name&&!!a.name,helperText:l.name&&a.name,sx:{margin:"0 1rem 1rem 0",backgroundColor:t.primary[400],borderRadius:"5px",color:"black"}}),(0,G.jsx)(S.Z,{className:"modal_input_textfield",fullWidth:!0,variant:"filled",type:"text",label:"\u4ecb\u7d39 (\u9078\u586b)",onBlur:o,onChange:s,value:i.intro,name:"intro",error:!!l.intro&&!!a.intro,helperText:l.intro&&a.intro,sx:{margin:"0 1rem 1rem 0",backgroundColor:t.primary[400],borderRadius:"5px",color:"black"}}),(0,G.jsxs)(m.Z,{sx:{minWidth:150},children:[(0,G.jsx)(u.Z,{id:"demo-simple-select-label",children:_e.status}),(0,G.jsxs)(x.Z,{disabled:"banned"===_e.status,sx:{borderRadius:"10px",background:t.primary[400]},labelId:"demo-simple-select-label",id:"demo-simple-select",value:H,label:"status",onChange:$,children:[(0,G.jsx)(h.Z,{value:"normal",children:"\u6b63\u5e38"}),(0,G.jsx)(h.Z,{value:"disable",children:"\u505c\u7528"})]})]})]}),(0,G.jsxs)(p.Z,{display:"flex",children:[(0,G.jsx)(S.Z,{fullWidth:!0,variant:"filled",disabled:!0,type:"text",label:"\u54c1\u724cid",onBlur:o,onChange:s,value:i.brandId,name:"brandId",error:!!l.brandId&&!!a.brandId,helperText:l.brandId&&a.brandId,sx:{marginBottom:"1rem",mr:"1rem",backgroundColor:t.primary[400],borderRadius:"5px"}}),(0,G.jsx)(S.Z,{fullWidth:!0,disabled:!0,variant:"filled",type:"text",label:"\u54c1\u724c\u540d\u7a31",onBlur:o,onChange:s,value:i.brandName,name:"brandName",error:!!l.brandName&&!!a.brandName,helperText:l.brandName&&a.brandName,sx:{marginBottom:"1rem",backgroundColor:t.primary[400],borderRadius:"5px"}})]}),(0,G.jsx)(E.ZP,{className:"places_autocomplete",value:be,onChange:Ze,onSelect:Ve,children:function(e){var r=e.getInputProps,n=e.suggestions,i=e.getSuggestionItemProps,a=e.loading;return(0,G.jsxs)("div",{children:[(0,G.jsx)(S.Z,(0,w.Z)({className:"modal_input_textfield",fullWidth:!0,label:"\u641c\u7d22\u5e97\u9762\u5730\u9ede ...",variant:"filled",type:"text",sx:{mb:"1rem",backgroundColor:t.primary[400],borderRadius:"5px",color:"black"}},r({placeholder:"\u641c\u7d22\u5e97\u9762\u5730\u9ede ...",className:"location-search-input"}))),(0,G.jsxs)("div",{className:"autocomplete-dropdown-container",children:[a&&(0,G.jsx)("div",{children:"Loading..."}),n.map((function(e){var r=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:t.primary[500],color:t.grey[300],cursor:"pointer",borderRadius:"5px",fontSize:"1rem",padding:"0.5rem",margin:"0.5rem"}:{backgroundColor:t.primary[400],color:t.grey[300],cursor:"pointer",borderRadius:"5px",fontSize:"1rem",padding:"0.5rem",margin:"0.5rem"};return(0,G.jsx)("div",(0,w.Z)((0,w.Z)({},i(e,{className:r,style:n})),{},{children:(0,G.jsx)("span",{children:e.description})}))}))]})]})}}),(0,G.jsxs)(p.Z,{display:"flex",children:[(0,G.jsxs)(m.Z,{sx:{minWidth:150,height:"100%"},children:[(0,G.jsx)(u.Z,{id:"demo-simple-select-label",children:"\u7e23\u5e02\u904e\u6ffe"}),(0,G.jsx)(x.Z,{sx:{borderRadius:"10px",background:t.primary[400],height:"100%",width:"auto",mr:"1rem"},labelId:"demo-simple-select-label",id:"demo-simple-select",value:ae,label:"cityFilter",onChange:xe,required:!0,children:Object.keys(q).map((function(e,r){return(0,G.jsx)(h.Z,{value:e,children:e},"".concat(e,"-").concat(r))}))})]}),(0,G.jsxs)(m.Z,{sx:{minWidth:150,height:"100%"},children:[(0,G.jsx)(u.Z,{id:"demo-simple-select-label",children:"\u9109\u93ae\u904e\u6ffe"}),(0,G.jsx)(x.Z,{sx:{borderRadius:"10px",background:t.primary[400],height:"100%",width:"auto",mr:"1rem"},labelId:"demo-simple-select-label",id:"demo-simple-select",value:me,label:"areaFilter",onChange:he,required:!0,children:se.map((function(e,r){return(0,G.jsx)(h.Z,{value:e,children:e},e)}))})]}),(0,G.jsx)(S.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u5e97\u9762\u5730\u5740",onBlur:o,onChange:s,value:Ce,name:"address",required:!0,error:!!l.address&&!!a.address,helperText:l.address&&a.address,sx:{marginBottom:"1rem",backgroundColor:t.primary[400],borderRadius:"5px"}})]}),(0,G.jsxs)(p.Z,{display:"flex",justifyContent:"space-between",children:[(0,G.jsx)(S.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u8ca0\u8cac\u4eba\u540d\u7a31",onBlur:o,onChange:s,value:i.principalName,name:"principalName",error:!!l.principalName&&!!a.principalName,helperText:l.principalName&&a.principalName,sx:{marginBottom:"1rem",mr:"1rem",backgroundColor:t.primary[400],borderRadius:"5px"}}),(0,G.jsx)(S.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u8ca0\u8cac\u4ebaline",onBlur:o,onChange:s,value:i.principalLineUrl,name:"principalLineUrl",error:!!l.principalLineUrl&&!!a.principalLineUrl,helperText:l.principalLineUrl&&a.principalLineUrl,sx:{margin:" 0 0 1rem 0",backgroundColor:t.primary[400],borderRadius:"5px"}})]}),(0,G.jsxs)(p.Z,{display:"flex",justifyContent:"space-between",children:[(0,G.jsx)(S.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u8ca0\u8cac\u4eba\u4fe1\u7bb1",onBlur:o,onChange:s,value:i.principalEmail,name:"principalEmail",error:!!l.principalEmail&&!!a.principalEmail,helperText:l.principalEmail&&a.principalEmail,sx:{margin:" 0 1rem 1rem 0",backgroundColor:t.primary[400],borderRadius:"5px"}}),(0,G.jsxs)(m.Z,{fullWidth:!0,variant:"filled",sx:{marginBottom:"1rem",backgroundColor:t.primary[400],borderRadius:"5px"},children:[(0,G.jsx)(u.Z,{htmlFor:"filled-adornment-password",children:"\u8ca0\u8cac\u4eba\u5bc6\u78bc (\u4e0d\u5fc5\u8981)"}),(0,G.jsx)(k.Z,{onBlur:o,onChange:s,value:i.principalPassword,name:"principalPassword",error:!!l.principalPassword&&!!a.principalPassword,type:X?"text":"password",endAdornment:(0,G.jsx)(N.Z,{position:"end",children:(0,G.jsx)(_.Z,{"aria-label":"toggle password visibility",onClick:ee,onMouseDown:re,edge:"end",children:X?(0,G.jsx)(z.Z,{}):(0,G.jsx)(M.Z,{})})})}),(0,G.jsx)(R.Z,{error:!!l.principalPassword&&!!a.principalPassword,children:l.principalPassword&&a.principalPassword})]})]})]}),(0,G.jsxs)(p.Z,{display:"flex",justifyContent:"center",children:[(0,G.jsx)(g.Z,{onClick:Ge,variant:"contained",sx:{minWidth:"100px",padding:".5rem 1.5rem",margin:"0 1rem",borderRadius:"10px",border:"2px solid #ff2f00"},children:(0,G.jsx)(f.Z,{variant:"h5",sx:{textAlign:"center",fontSize:".9rem",color:"white"},children:"\u79fb\u9664"})}),"company"===n?"banned"===i.status?(0,G.jsx)(g.Z,{onClick:Ke,id:i.id,variant:"contained",sx:{backgroundColor:t.primary[400],minWidth:"100px",padding:".5rem 1.5rem",margin:"0 1rem",borderRadius:"10px",border:"2px solid #fff"},children:(0,G.jsx)(f.Z,{variant:"h5",sx:{textAlign:"center",fontSize:".9rem",color:"white"},children:"\u89e3\u5c01"})}):(0,G.jsx)(B.Z,{props:{type:"store",id:r.id}}):null,(0,G.jsx)(g.Z,{type:"submit",color:"success",variant:"contained",sx:{minWidth:"100px",padding:".5rem 1.5rem",margin:"0 1rem",borderRadius:"10px",background:t.grey[100]},children:(0,G.jsx)(f.Z,{variant:"h5",sx:{textAlign:"center",fontSize:".9rem",color:t.grey[700]},children:"\u66f4\u65b0"})})]})]})}})})})]})]})}var J=n(69120),$=n(33073),Q=n(40162);function K(e,r,n,i,t){var o="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,s=l.useState((function(){return t&&o?n(e).matches:i?i(e).matches:r})),d=(0,a.Z)(s,2),c=d[0],p=d[1];return(0,Q.Z)((function(){var r=!0;if(o){var i=n(e),a=function(){r&&p(i.matches)};return a(),i.addListener(a),function(){r=!1,i.removeListener(a)}}}),[e,n,o]),c}var X=t.useSyncExternalStore;function Y(e,r,n,i){var t=l.useCallback((function(){return r}),[r]),o=l.useMemo((function(){if(null!==i){var r=i(e).matches;return function(){return r}}return t}),[t,e,i]),s=l.useMemo((function(){if(null===n)return[t,function(){return function(){}}];var r=n(e);return[function(){return r.matches},function(e){return r.addListener(e),function(){r.removeListener(e)}}]}),[t,n,e]),d=(0,a.Z)(s,2),c=d[0],p=d[1];return X(p,c,o)}function ee(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,J.Z)(),i="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,a=(0,$.Z)({name:"MuiUseMediaQuery",props:r,theme:n}),l=a.defaultMatches,t=void 0!==l&&l,o=a.matchMedia,s=void 0===o?i?window.matchMedia:null:o,d=a.ssrMatchMedia,c=void 0===d?null:d,p=a.noSsr;var m="function"===typeof e?e(n):e;m=m.replace(/^@media( ?)/m,"");var u=void 0!==X?Y:K,x=u(m,t,s,c,p);return x}var re=P.Ry().shape({name:P.Z_().required("required"),principalName:P.Z_().required("required"),principalAccount:P.Z_().required("required"),principalPassword:P.Z_().required("required").matches(/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d_!@#]{6,}$/),principalLineUrl:P.Z_().required("required"),principalEmail:P.Z_().email("invalid email")});function ne(){ee("(min-width:600px)");var e=(0,c.Z)(),r=(0,b.TV)(e.palette.mode),n=(0,l.useState)(!1),i=(0,a.Z)(n,2),t=i[0],o=i[1],Z=(0,l.useState)(!1),j=(0,a.Z)(Z,2),v=j[0],P=j[1],B=function(){return P((function(e){return!e}))},A=function(e){e.preventDefault()},F=(0,l.useState)({brandId:"null",brandName:"null"}),D=(0,a.Z)(F,2),V=D[0],O=V.brandId,H=V.brandName,J=D[1],$="\u65b0\u589e\u5e97\u9762",Q=(0,l.useState)(""),K=(0,a.Z)(Q,2),X=K[0],Y=K[1],ne=(0,l.useState)([]),ie=(0,a.Z)(ne,2),ae=ie[0],le=ie[1],te=(0,l.useState)(""),oe=(0,a.Z)(te,2),se=oe[0],de=oe[1],ce=function(e){Y(e.target.value),le(q[e.target.value]),de("")},pe=function(e){de(e.target.value)},me=(0,l.useState)(""),ue=(0,a.Z)(me,2),xe=ue[0],he=ue[1],ge=(0,l.useState)({address:"",coordinates:{lat:0,lng:120}}),fe=(0,a.Z)(ge,2),be=fe[0],Ze=be.address,je=be.coordinates,ve=fe[1],ye=function(){var e=(0,C.Z)((0,y.Z)().mark((function e(r){var n,i,a,l,t;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.NU)(r);case 2:return n=e.sent,i=n[0].address_components[0].long_name+n[0].address_components[1].long_name,e.next=6,(0,E.WV)(n[0]);case 6:a=e.sent,l=n[0].address_components[4].long_name,t=n[0].address_components[3].long_name,he(r),ve({address:i,coordinates:a}),l in q&&(Y(l),le(q[l]),de(t)),console.log("city"+l+"district"+t+"Coordinate:"+je.lat+","+je.lng);case 13:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Ce=(0,s.a)(d.wh),we=(Ce.loading,Ce.error,Ce.data),Se=(0,l.useState)(""),ke=(0,a.Z)(Se,2),Ne=ke[0],_e=ke[1],Re=(0,l.useState)([]),We=(0,a.Z)(Re,2),Pe=We[0],Ie=We[1];(0,l.useEffect)((function(){we&&Ie(we.managerGetBrands)}),[we]);var Ee=function(e){var r=e.target.value,n=Pe.find((function(e){return e.id===r}));n&&(_e(r),J({brandId:r,brandName:n.name}))},Be=(0,I.t)(d.rz),Ae=(0,a.Z)(Be,2),qe=Ae[0],Le=Ae[1],Ue=(Le.loading,Le.error,Le.data);(0,l.useEffect)((function(){Ue&&window.location.reload()}),[Ue]);var Te=(0,l.useState)(L.uI),ze=(0,a.Z)(Te,2),Me=ze[0],Fe=ze[1],De=function(e){Fe(e)},Ve=function(){o(!t)};return t?document.body.classList.add("active-modal"):document.body.classList.remove("active-modal"),(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(g.Z,{onClick:Ve,className:"btn-modal",sx:{color:r.primary[100],border:"1px solid #111",borderColor:r.blueAccent[100]},children:$}),t&&(0,G.jsxs)(p.Z,{className:"modal",children:[(0,G.jsx)(p.Z,{onClick:Ve,className:"overlay"}),(0,G.jsx)(p.Z,{className:"modal-content",backgroundColor:r.primary[500],children:(0,G.jsx)(p.Z,{m:"20px",children:(0,G.jsx)(W.J9,{onSubmit:function(e){var r={args:[{id:O}],brandId:O,name:e.name,cover:Me,location:{city:X,district:se,address:Ze,coordinate:{latitude:je.lat,longitude:je.lng}},principal:{name:e.principalName,account:e.principalAccount,password:e.principalPassword,lineUrl:e.principalLineUrl}};""!==e.intro&&(r.intro=e.intro),""!==e.principalEmail&&(r.principal.email=e.principalEmail),console.log(r),qe({variables:r})},initialValues:{name:"",intro:"",principalName:"",principalAccount:"",principalPassword:"",principalLineUrl:"https://lin.ee/",principalEmail:""},validationSchema:re,children:function(e){var n=e.values,i=e.errors,a=e.touched,l=e.handleBlur,t=e.handleChange,o=e.handleSubmit;return(0,G.jsxs)("form",{onSubmit:o,children:[(0,G.jsxs)(p.Z,{children:[(0,G.jsxs)(p.Z,{display:"flex",m:"1rem 0",children:[(0,G.jsx)(p.Z,{width:"35%",display:"flex",flexDirection:"column",justifyContent:"center",children:(0,G.jsx)(f.Z,{variant:"h2",sx:{textAlign:"left",fontSize:"2rem",fontWeight:"600",color:"white"},children:$})}),(0,G.jsx)(p.Z,{width:"65%",children:(0,G.jsx)(U.Z,{handleSuccess:De,imagePlaceHolder:(0,T.q8)(Me,"cover"),type:"store"})})]}),(0,G.jsxs)(p.Z,{display:"flex",children:[(0,G.jsx)(S.Z,{fullWidth:!0,disabled:!0,variant:"filled",type:"text",label:"\u54c1\u724cid",onBlur:l,onChange:t,value:O,name:"brandId",error:!!a.brandId&&!!i.brandId,helperText:a.brandId&&i.brandId,sx:{marginBottom:"1rem",mr:"1rem",backgroundColor:r.primary[400],borderRadius:"5px"}}),(0,G.jsx)(S.Z,{fullWidth:!0,disabled:!0,variant:"filled",type:"text",label:"\u54c1\u724c\u540d\u7a31",onBlur:l,onChange:t,value:H,name:"brandName",error:!!a.brandName&&!!i.brandName,helperText:a.brandName&&i.brandName,sx:{marginBottom:"1rem",mr:"1rem",backgroundColor:r.primary[400],borderRadius:"5px"}}),(0,G.jsxs)(m.Z,{sx:{minWidth:150,height:"100%"},children:[(0,G.jsx)(u.Z,{id:"demo-simple-select-label",children:"\u54c1\u724c\u904e\u6ffe"}),(0,G.jsx)(x.Z,{sx:{borderRadius:"10px",background:r.primary[400],height:"100%",width:"auto"},labelId:"demo-simple-select-label",id:"demo-simple-select",value:Ne,label:"brandListFilter",onChange:Ee,required:!0,children:Pe.map((function(e,r){return(0,G.jsxs)(h.Z,{value:e.id,children:[e.id," - ",e.name]},"".concat(r))}))})]})]}),(0,G.jsxs)(p.Z,{display:"flex",children:[(0,G.jsx)(S.Z,{className:"modal_input_textfield",fullWidth:!0,variant:"filled",type:"text",label:"\u66b1\u7a31",onBlur:l,onChange:t,value:n.name,name:"name",error:!!a.name&&!!i.name,helperText:a.name&&i.name,sx:{margin:"0 1rem 1rem 0",backgroundColor:r.primary[400],borderRadius:"5px",color:"black"}}),(0,G.jsx)(S.Z,{className:"modal_input_textfield",fullWidth:!0,variant:"filled",type:"text",label:"\u5e97\u9762\u4ecb\u7d39",onBlur:l,onChange:t,value:n.intro,name:"intro",error:!!a.intro&&!!i.intro,helperText:a.intro&&i.intro,sx:{margin:"0 0 1rem 0",backgroundColor:r.primary[400],borderRadius:"5px",color:"black"}})]}),(0,G.jsx)(E.ZP,{className:"places_autocomplete",value:xe,onChange:he,onSelect:ye,children:function(e){var n=e.getInputProps,i=e.suggestions,a=e.getSuggestionItemProps,l=e.loading;return(0,G.jsxs)("div",{children:[(0,G.jsx)(S.Z,(0,w.Z)({className:"modal_input_textfield",fullWidth:!0,label:"\u641c\u7d22\u5e97\u9762\u5730\u9ede ...",variant:"filled",type:"text",sx:{margin:"1rem 0",backgroundColor:r.primary[400],borderRadius:"5px",color:"black"}},n({placeholder:"\u641c\u7d22\u5e97\u9762\u5730\u9ede ...",className:"location-search-input"}))),(0,G.jsxs)("div",{className:"autocomplete-dropdown-container",children:[l&&(0,G.jsx)("div",{children:"Loading..."}),i.map((function(e,n){var i=e.active?"suggestion-item--active":"suggestion-item",l=e.active?{backgroundColor:r.primary[500],color:r.grey[300],cursor:"pointer",borderRadius:"5px",fontSize:"1rem",padding:"0.5rem",margin:"0.5rem"}:{backgroundColor:r.primary[400],color:r.grey[300],cursor:"pointer",borderRadius:"5px",fontSize:"1rem",padding:"0.5rem",margin:"0.5rem"};return(0,G.jsx)("div",(0,w.Z)((0,w.Z)({},a(e,{className:i,style:l})),{},{children:(0,G.jsx)("span",{children:e.description})}),n)}))]})]})}}),(0,G.jsxs)(p.Z,{display:"flex",children:[(0,G.jsxs)(m.Z,{sx:{minWidth:150,height:"100%"},children:[(0,G.jsx)(u.Z,{id:"demo-simple-select-label",children:"\u7e23\u5e02\u904e\u6ffe"}),(0,G.jsx)(x.Z,{sx:{borderRadius:"10px",background:r.primary[400],height:"100%",width:"auto",mr:"1rem"},labelId:"demo-simple-select-label",id:"demo-simple-select",value:X,label:"cityFilter",onChange:ce,required:!0,children:Object.keys(q).map((function(e,r){return(0,G.jsx)(h.Z,{value:e,children:e},"".concat(e,"-").concat(r))}))})]}),(0,G.jsxs)(m.Z,{sx:{minWidth:150,height:"100%"},children:[(0,G.jsx)(u.Z,{id:"demo-simple-select-label",children:"\u9109\u93ae\u904e\u6ffe"}),(0,G.jsx)(x.Z,{sx:{borderRadius:"10px",background:r.primary[400],height:"100%",width:"auto",mr:"1rem"},labelId:"demo-simple-select-label",id:"demo-simple-select",value:se,label:"areaFilter",onChange:pe,required:!0,children:ae.map((function(e,r){return(0,G.jsx)(h.Z,{value:e,children:e},e)}))})]}),(0,G.jsx)(S.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u5e97\u9762\u5730\u5740",onBlur:l,onChange:t,value:Ze,name:"address",required:!0,error:!!a.address&&!!i.address,helperText:a.address&&i.address,sx:{marginBottom:"1rem",backgroundColor:r.primary[400],borderRadius:"5px"}})]}),(0,G.jsxs)(p.Z,{display:"flex",children:[(0,G.jsx)(S.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u8ca0\u8cac\u4eba\u540d\u7a31",onBlur:l,onChange:t,value:n.principalName,name:"principalName",error:!!a.principalName&&!!i.principalName,helperText:a.principalName&&i.principalName,sx:{margin:" 0 1rem 1rem 0",backgroundColor:r.primary[400],borderRadius:"5px"}}),(0,G.jsx)(S.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u8ca0\u8cac\u4eba\u8cec\u865f",onBlur:l,onChange:t,value:n.principalAccount,name:"principalAccount",error:!!a.principalAccount&&!!i.principalAccount,helperText:a.principalAccount&&i.principalAccount,sx:{margin:" 0 1rem 1rem 0",backgroundColor:r.primary[400],borderRadius:"5px"}}),(0,G.jsxs)(m.Z,{fullWidth:!0,variant:"filled",sx:{marginBottom:"1rem",backgroundColor:r.primary[400],borderRadius:"5px"},children:[(0,G.jsx)(u.Z,{htmlFor:"filled-adornment-password",children:"\u8ca0\u8cac\u4eba\u5bc6\u78bc (\u4e0d\u5fc5\u8981)"}),(0,G.jsx)(k.Z,{onBlur:l,onChange:t,value:n.principalPassword,name:"principalPassword",error:!!a.principalPassword&&!!i.principalPassword,type:v?"text":"password",endAdornment:(0,G.jsx)(N.Z,{position:"end",children:(0,G.jsx)(_.Z,{"aria-label":"toggle password visibility",onClick:B,onMouseDown:A,edge:"end",children:v?(0,G.jsx)(z.Z,{}):(0,G.jsx)(M.Z,{})})})}),(0,G.jsx)(R.Z,{error:!!a.principalPassword&&!!i.principalPassword,children:a.principalPassword&&i.principalPassword})]})]}),(0,G.jsxs)(p.Z,{display:"flex",children:[(0,G.jsx)(S.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u8ca0\u8cac\u4eba\u4fe1\u7bb1 (\u9078\u586b)",onBlur:l,onChange:t,value:n.principalEmail,name:"principalEmail",error:!!a.principalEmail&&!!i.principalEmail,helperText:a.principalEmail&&i.principalEmail,sx:{margin:" 0 1rem 1rem 0",backgroundColor:r.primary[400],borderRadius:"5px"}}),(0,G.jsx)(S.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u8ca0\u8cac\u4ebaline",onBlur:l,onChange:t,value:n.principalLineUrl,name:"principalLineUrl",error:!!a.principalLineUrl&&!!i.principalLineUrl,helperText:a.principalLineUrl&&i.principalLineUrl,sx:{margin:" 0 0 1rem 0",backgroundColor:r.primary[400],borderRadius:"5px"}})]})]}),(0,G.jsx)(p.Z,{display:"flex",justifyContent:"center",children:(0,G.jsx)(p.Z,{display:"flex",justifyContent:"center",children:(0,G.jsx)("button",{className:"my-button",type:"submit",children:"\u65b0\u589e"})})})]})}})})})]})]})}var ie=n(92879),ae=n(18345),le=n(25153),te=P.Ry().shape({name:P.Z_().required("required"),principalName:P.Z_().required("required"),principalAccount:P.Z_().required("required"),principalPassword:P.Z_().required("required").matches(/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d_!@#]{6,}$/),principalLineUrl:P.Z_().required("required"),principalEmail:P.Z_().email("invalid email")});function oe(){ee("(min-width:600px)");var e=(0,c.Z)(),r=(0,b.TV)(e.palette.mode),n=(0,l.useState)(!1),i=(0,a.Z)(n,2),t=i[0],o=i[1],s=(0,l.useState)(!1),d=(0,a.Z)(s,2),Z=d[0],j=d[1],v=function(){return j((function(e){return!e}))},P=function(e){e.preventDefault()},B=(0,l.useState)({brandId:"null",brandName:"null"}),A=(0,a.Z)(B,2),F=A[0],D=F.brandId,V=(F.brandName,A[1],"\u65b0\u589e\u5e97\u9762"),O=(0,l.useState)(""),H=(0,a.Z)(O,2),J=H[0],$=H[1],Q=(0,l.useState)([]),K=(0,a.Z)(Q,2),X=K[0],Y=K[1],re=(0,l.useState)(""),ne=(0,a.Z)(re,2),ie=ne[0],ae=ne[1],oe=function(e){$(e.target.value),Y(q[e.target.value]),ae("")},se=function(e){ae(e.target.value)},de=(0,l.useState)(""),ce=(0,a.Z)(de,2),pe=ce[0],me=ce[1],ue=(0,l.useState)({address:"",coordinates:{lat:0,lng:120}}),xe=(0,a.Z)(ue,2),he=xe[0],ge=he.address,fe=he.coordinates,be=xe[1],Ze=function(){var e=(0,C.Z)((0,y.Z)().mark((function e(r){var n,i,a,l,t;return(0,y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.NU)(r);case 2:return n=e.sent,i=n[0].address_components[0].long_name+n[0].address_components[1].long_name,e.next=6,(0,E.WV)(n[0]);case 6:a=e.sent,l=n[0].address_components[4].long_name,t=n[0].address_components[3].long_name,me(r),be({address:i,coordinates:a}),l in q&&($(l),Y(q[l]),ae(t)),console.log("city"+l+"district"+t+"Coordinate:"+fe.lat+","+fe.lng);case 13:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),je=(0,I.t)(le.$F),ve=(0,a.Z)(je,2),ye=ve[0],Ce=ve[1],we=(Ce.loading,Ce.error,Ce.data);(0,l.useEffect)((function(){we&&window.location.reload()}),[we]);var Se=(0,l.useState)(L.uI),ke=(0,a.Z)(Se,2),Ne=ke[0],_e=ke[1],Re=function(e){_e(e)},We=function(){o(!t)};return t?document.body.classList.add("active-modal"):document.body.classList.remove("active-modal"),(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(g.Z,{onClick:We,className:"btn-modal",sx:{color:r.primary[100],border:"1px solid #111",borderColor:r.blueAccent[100]},children:V}),t&&(0,G.jsxs)(p.Z,{className:"modal",children:[(0,G.jsx)(p.Z,{onClick:We,className:"overlay"}),(0,G.jsx)(p.Z,{className:"modal-content",backgroundColor:r.primary[500],children:(0,G.jsx)(p.Z,{m:"20px",children:(0,G.jsx)(W.J9,{onSubmit:function(e){var r={args:[{id:D}],brandId:D,name:e.name,cover:Ne,location:{city:J,district:ie,address:ge,coordinate:{latitude:fe.lat,longitude:fe.lng}},principal:{name:e.principalName,account:e.principalAccount,password:e.principalPassword,lineUrl:e.principalLineUrl}};""!==e.intro&&(r.intro=e.intro),""!==e.principalEmail&&(r.principal.email=e.principalEmail),console.log(r),ye({variables:r})},initialValues:{name:"",intro:"",principalName:"",principalAccount:"",principalPassword:"",principalLineUrl:"https://lin.ee/",principalEmail:""},validationSchema:te,children:function(e){var n=e.values,i=e.errors,a=e.touched,l=e.handleBlur,t=e.handleChange,o=e.handleSubmit;return(0,G.jsxs)("form",{onSubmit:o,children:[(0,G.jsxs)(p.Z,{children:[(0,G.jsxs)(p.Z,{display:"flex",m:"1rem 0",children:[(0,G.jsx)(p.Z,{width:"35%",display:"flex",flexDirection:"column",justifyContent:"center",children:(0,G.jsx)(f.Z,{variant:"h2",sx:{textAlign:"left",fontSize:"2rem",fontWeight:"600",color:"white"},children:V})}),(0,G.jsx)(p.Z,{width:"65%",children:(0,G.jsx)(U.Z,{handleSuccess:Re,imagePlaceHolder:(0,T.q8)(Ne,"cover"),type:"store"})})]}),(0,G.jsx)(S.Z,{className:"modal_input_textfield",fullWidth:!0,variant:"filled",type:"text",label:"\u66b1\u7a31 (\u9078\u586b)",onBlur:l,onChange:t,value:n.name,name:"name",error:!!a.name&&!!i.name,helperText:a.name&&i.name,sx:{margin:"0 1rem 1rem 0",backgroundColor:r.primary[400],borderRadius:"5px",color:"black"}}),(0,G.jsx)(S.Z,{className:"modal_input_textfield",fullWidth:!0,variant:"filled",type:"text",label:"\u5e97\u9762\u4ecb\u7d39",onBlur:l,onChange:t,value:n.intro,name:"intro",error:!!a.intro&&!!i.intro,helperText:a.intro&&i.intro,sx:{margin:"0 1rem 0rem 0",backgroundColor:r.primary[400],borderRadius:"5px",color:"black"}}),(0,G.jsx)(E.ZP,{className:"places_autocomplete",value:pe,onChange:me,onSelect:Ze,children:function(e){var n=e.getInputProps,i=e.suggestions,a=e.getSuggestionItemProps,l=e.loading;return(0,G.jsxs)("div",{children:[(0,G.jsx)(S.Z,(0,w.Z)({className:"modal_input_textfield",fullWidth:!0,label:"\u641c\u7d22\u5e97\u9762\u5730\u9ede ...",variant:"filled",type:"text",sx:{margin:"1rem 0",backgroundColor:r.primary[400],borderRadius:"5px",color:"black"}},n({placeholder:"\u641c\u7d22\u5e97\u9762\u5730\u9ede ...",className:"location-search-input"}))),(0,G.jsxs)("div",{className:"autocomplete-dropdown-container",children:[l&&(0,G.jsx)("div",{children:"Loading..."}),i.map((function(e,n){var i=e.active?"suggestion-item--active":"suggestion-item",l=e.active?{backgroundColor:r.primary[500],color:r.grey[300],cursor:"pointer",borderRadius:"5px",fontSize:"1rem",padding:"0.5rem",margin:"0.5rem"}:{backgroundColor:r.primary[400],color:r.grey[300],cursor:"pointer",borderRadius:"5px",fontSize:"1rem",padding:"0.5rem",margin:"0.5rem"};return(0,G.jsx)("div",(0,w.Z)((0,w.Z)({},a(e,{className:i,style:l})),{},{children:(0,G.jsx)("span",{children:e.description})}),n)}))]})]})}}),(0,G.jsxs)(p.Z,{display:"flex",children:[(0,G.jsxs)(m.Z,{sx:{minWidth:150,height:"100%"},children:[(0,G.jsx)(u.Z,{id:"demo-simple-select-label",children:"\u7e23\u5e02\u904e\u6ffe"}),(0,G.jsx)(x.Z,{sx:{borderRadius:"10px",background:r.primary[400],height:"100%",width:"auto",mr:"1rem"},labelId:"demo-simple-select-label",id:"demo-simple-select",value:J,label:"cityFilter",onChange:oe,required:!0,children:Object.keys(q).map((function(e,r){return(0,G.jsx)(h.Z,{value:e,children:e},"".concat(e,"-").concat(r))}))})]}),(0,G.jsxs)(m.Z,{sx:{minWidth:150,height:"100%"},children:[(0,G.jsx)(u.Z,{id:"demo-simple-select-label",children:"\u9109\u93ae\u904e\u6ffe"}),(0,G.jsx)(x.Z,{sx:{borderRadius:"10px",background:r.primary[400],height:"100%",width:"auto",mr:"1rem"},labelId:"demo-simple-select-label",id:"demo-simple-select",value:ie,label:"areaFilter",onChange:se,required:!0,children:X.map((function(e,r){return(0,G.jsx)(h.Z,{value:e,children:e},e)}))})]}),(0,G.jsx)(S.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u5e97\u9762\u5730\u5740",onBlur:l,onChange:t,value:ge,name:"address",required:!0,error:!!a.address&&!!i.address,helperText:a.address&&i.address,sx:{marginBottom:"1rem",backgroundColor:r.primary[400],borderRadius:"5px"}})]}),(0,G.jsxs)(p.Z,{display:"flex",children:[(0,G.jsx)(S.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u8ca0\u8cac\u4eba\u540d\u7a31",onBlur:l,onChange:t,value:n.principalName,name:"principalName",error:!!a.principalName&&!!i.principalName,helperText:a.principalName&&i.principalName,sx:{margin:" 0 1rem 1rem 0",backgroundColor:r.primary[400],borderRadius:"5px"}}),(0,G.jsx)(S.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u8ca0\u8cac\u4eba\u8cec\u865f",onBlur:l,onChange:t,value:n.principalAccount,name:"principalAccount",error:!!a.principalAccount&&!!i.principalAccount,helperText:a.principalAccount&&i.principalAccount,sx:{margin:" 0 1rem 1rem 0",backgroundColor:r.primary[400],borderRadius:"5px"}}),(0,G.jsxs)(m.Z,{fullWidth:!0,variant:"filled",sx:{marginBottom:"1rem",backgroundColor:r.primary[400],borderRadius:"5px"},children:[(0,G.jsx)(u.Z,{htmlFor:"filled-adornment-password",children:"\u8ca0\u8cac\u4eba\u5bc6\u78bc (\u4e0d\u5fc5\u8981)"}),(0,G.jsx)(k.Z,{onBlur:l,onChange:t,value:n.principalPassword,name:"principalPassword",error:!!a.principalPassword&&!!i.principalPassword,type:Z?"text":"password",endAdornment:(0,G.jsx)(N.Z,{position:"end",children:(0,G.jsx)(_.Z,{"aria-label":"toggle password visibility",onClick:v,onMouseDown:P,edge:"end",children:Z?(0,G.jsx)(z.Z,{}):(0,G.jsx)(M.Z,{})})})}),(0,G.jsx)(R.Z,{error:!!a.principalPassword&&!!i.principalPassword,children:a.principalPassword&&i.principalPassword})]})]}),(0,G.jsxs)(p.Z,{display:"flex",children:[(0,G.jsx)(S.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u8ca0\u8cac\u4eba\u4fe1\u7bb1 (\u9078\u586b)",onBlur:l,onChange:t,value:n.principalEmail,name:"principalEmail",error:!!a.principalEmail&&!!i.principalEmail,helperText:a.principalEmail&&i.principalEmail,sx:{margin:" 0 1rem 1rem 0",backgroundColor:r.primary[400],borderRadius:"5px"}}),(0,G.jsx)(S.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u8ca0\u8cac\u4ebaline",onBlur:l,onChange:t,value:n.principalLineUrl,name:"principalLineUrl",error:!!a.principalLineUrl&&!!i.principalLineUrl,helperText:a.principalLineUrl&&i.principalLineUrl,sx:{margin:" 0 0 1rem 0",backgroundColor:r.primary[400],borderRadius:"5px"}})]})]}),(0,G.jsx)(p.Z,{display:"flex",justifyContent:"center",children:(0,G.jsx)(p.Z,{display:"flex",justifyContent:"center",children:(0,G.jsx)("button",{className:"my-button",type:"submit",children:"\u65b0\u589e"})})})]})}})})})]})]})}var se=n(70207),de=function(){var e,r=(0,V.v9)((function(e){return e.entity})).entityName,n=(0,c.Z)(),i=(0,b.TV)(n.palette.mode),t=(0,l.useState)(""),y=(0,a.Z)(t,2),C=y[0],w=(y[1],(0,l.useState)("")),S=(0,a.Z)(w,2),k=S[0],N=S[1],_=(0,l.useRef)(""),R=(0,l.useRef)(""),W=(0,l.useState)(10),P=(0,a.Z)(W,2),I=P[0],E=P[1],B=(0,l.useState)(0),A=(0,a.Z)(B,2),q=A[0],L=A[1],U=function(e){var r=e.limit,n=e.offset;E(r),L(n)},T=function(e,r){var n=r;return e.filter((function(e){return e.brand.name.match(new RegExp(n,"g"))}))},z=function(e,r){console.log(e,r),console.log();var n=r;return e.filter((function(e){return e.name.match(new RegExp(n,"g"))}))};switch(r){case"company":e=d.lu;break;case"brand":e=le.ub;break;case"store":e=se.Q}var M=(0,s.a)(e,{variables:{limit:I,offset:q}}),O=M.loading,J=M.error,$=M.data,Q=(0,l.useState)([]),K=(0,a.Z)(Q,2),X=K[0],Y=K[1],ee=(0,l.useState)([]),re=(0,a.Z)(ee,2),te=re[0],de=re[1];return(0,l.useEffect)((function(){if($)switch(r){case"company":de($.managerGetStores),Y($.managerGetStores);break;case"brand":de($.getBrandPrincipal.brands[0].managerGetStores),Y($.getBrandPrincipal.brands[0].managerGetStores);break;case"store":de($.getStorePrincipal.stores),Y($.getStorePrincipal.stores)}}),[$,q]),(0,l.useEffect)((function(){}),[$]),O?(0,G.jsx)(F.Z,{}):J?(0,G.jsx)(D.Z,{}):(0,G.jsxs)(p.Z,{p:2,position:"flex",flexDirection:"column",children:[(0,G.jsx)(p.Z,{height:"10%",children:(0,G.jsx)("h1",{className:"userManagement_title",children:"\u5e97\u9762\u7ba1\u7406"})}),(0,G.jsxs)(p.Z,{className:"flex_media",marginBottom:"2rem",height:"10%",alignItems:"center",children:[(0,G.jsx)(p.Z,{display:"flex",backgroundColor:i.primary[400],borderRadius:"10px",height:"52px",maxWidth:140,children:(0,G.jsx)(Z.ZP,{sx:{ml:2,pr:2,flex:1,minWidth:"200px"},placeholder:"\u54c1\u724c\u540d",inputRef:_})}),(0,G.jsx)(p.Z,{display:"flex",backgroundColor:i.primary[400],borderRadius:"10px",height:"52px",maxWidth:140,children:(0,G.jsx)(Z.ZP,{sx:{m:"0 1rem",height:"100%"},placeholder:"\u5e97\u9762\u540d",inputRef:R})}),(0,G.jsxs)(m.Z,{sx:{width:120},children:[(0,G.jsx)(u.Z,{id:"demo-simple-select-label",children:"\u7e23\u5e02\u904e\u6ffe"}),(0,G.jsx)(x.Z,{sx:{borderRadius:"10px",background:i.primary[400],height:"100%",width:"auto"},labelId:"demo-simple-select-label",id:"demo-simple-select",value:k,label:"cityFilter",onChange:function(e){N(e.target.value)},children:v.yg.map((function(e,r){return(0,G.jsx)(h.Z,{value:e.name,children:e.name},"".concat(e.id,"-").concat(r))}))})]}),(0,G.jsxs)(g.Z,{sx:{backgroundColor:i.primary[300],color:i.grey[100],minWidth:"120px",height:"52px",borderRadius:"10px",":hover":{bgcolor:i.primary[300],border:"1px solid white"}},onClick:function(){console.log(_.current.value+" "+R.current.value+C+k);var e=_.current.value,r=R.current.value;if(e.length>2&&0===r.length){var n=T(te,e);de(n)}else if(0===e.length&&r.length>2){var i=z(te,r);de(i)}else de(X)},children:[(0,G.jsx)(j.Z,{sx:{mr:"10px",fontsize:".8rem",color:"white"}}),(0,G.jsx)(f.Z,{color:"white",variant:"h5",fontWeight:"500",children:"\u67e5\u8a62"})]}),(0,G.jsx)(p.Z,{display:"flex",backgroundColor:i.primary[400],borderRadius:"10px",marginLeft:"auto",padding:"0",height:"52px",children:"company"===r?(0,G.jsx)(ne,{}):"brand"===r?(0,G.jsx)(oe,{}):null})]}),(0,G.jsxs)(p.Z,{backgroundColor:i.primary[400],borderRadius:"10px",height:"50%",children:[(0,G.jsxs)(p.Z,{display:"flex",justifyContent:"center",borderBottom:"0px solid ".concat(i.primary[500]),colors:i.grey[100],p:"15px",children:[(0,G.jsx)(p.Z,{width:"90%",children:(0,G.jsx)(ie.Z,{limit:I,offset:q,onPageChange:U})}),(0,G.jsx)(p.Z,{width:"10%",children:(0,G.jsx)(ae.Z,{limit:I,offset:q,onPageChange:U})})]}),(0,G.jsxs)(p.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"4px solid ".concat(i.primary[500]),colors:i.grey[100],p:"10px",children:[(0,G.jsx)(p.Z,{width:"15%",display:"flex",alignItems:"center",justifyContent:"center",children:(0,G.jsx)(f.Z,{color:i.grey[100],variant:"h5",fontWeight:"500",children:"\u5e97\u9762\u540d\u7a31"})}),(0,G.jsx)(p.Z,{width:"15%",display:"flex",alignItems:"center",justifyContent:"center",children:(0,G.jsx)(f.Z,{color:i.grey[100],variant:"h5",fontWeight:"500",children:"\u72c0\u614b"})}),(0,G.jsx)(p.Z,{width:"15%",display:"flex",alignItems:"center",justifyContent:"center",children:(0,G.jsx)(f.Z,{color:i.grey[100],variant:"h5",fontWeight:"500",children:"\u5546\u54c1"})}),(0,G.jsx)(p.Z,{width:"15%",display:"flex",alignItems:"center",justifyContent:"center",children:(0,G.jsx)(f.Z,{color:i.grey[100],variant:"h5",fontWeight:"500",children:"\u6a5f\u81fa"})}),(0,G.jsx)(p.Z,{width:"15%",display:"flex",alignItems:"center",justifyContent:"center",children:(0,G.jsx)(f.Z,{color:i.grey[100],variant:"h5",fontWeight:"500",children:"\u8cc7\u6599"})})]}),(0,G.jsx)(p.Z,{backgroundColor:i.primary[400],borderRadius:"10px",height:"100%",overflow:"auto",children:te.map((function(e,r){return(0,G.jsxs)(p.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"3px solid ".concat(i.primary[500]),p:"10px",children:[(0,G.jsx)(p.Z,{width:"15%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",children:e.name}),(0,G.jsx)(p.Z,{width:"15%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",children:"disable"===e.status.name?(0,G.jsx)(f.Z,{variant:"h5",color:i.primary[100],sx:{margin:".5rem .5rem"},children:"\u505c\u7528"}):"banned"===e.status.name?(0,G.jsx)(f.Z,{variant:"h5",color:i.redAccent[500],sx:{margin:".5rem .5rem"},children:"\u5c01\u9396"}):"removed"===e.status.name?(0,G.jsx)(f.Z,{variant:"h5",color:i.redAccent[500],sx:{margin:".5rem .5rem"},children:"\u79fb\u9664"}):(0,G.jsx)(f.Z,{variant:"h5",color:i.greenAccent[500],sx:{margin:".5rem .5rem"},children:"\u6b63\u5e38"})}),(0,G.jsx)(p.Z,{width:"15%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",children:(0,G.jsx)(o.rU,{to:"/commodity-management",state:{data:e},children:(0,G.jsx)(g.Z,{sx:{color:i.primary[100],border:"1px solid"+i.grey[200],borderRadius:"10px",fontSize:".9rem",padding:".5rem 2rem"},children:"\u5546\u54c1"})})}),(0,G.jsx)(p.Z,{width:"15%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",children:(0,G.jsx)(o.rU,{to:"/machine-management",state:{data:e},children:(0,G.jsx)(g.Z,{sx:{color:i.primary[100],border:"1px solid"+i.grey[200],borderRadius:"10px",fontSize:".9rem",padding:".5rem 2rem"},children:"\u6a5f\u53f0"})})}),(0,G.jsx)(p.Z,{width:"15%",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",children:(0,G.jsx)(H,{props:e})})]},"".concat(e.id,"-").concat(r))}))})]})]})}}}]);
//# sourceMappingURL=587.957c01fd.chunk.js.map