"use strict";(self.webpackChunkmarketing_backstage_test=self.webpackChunkmarketing_backstage_test||[]).push([[511],{86511:function(e,r,n){n.r(r),n.d(r,{default:function(){return M}});var t=n(74165),a=n(4942),i=n(1413),o=n(15861),l=n(37762),s=n(70885),c=n(72791),d=n(57689),u=n(96578),m=n(13967),x=n(68870),h=n(20890),p=n(36151),f=n(11607),g=n(4834),b=n(5403),Z=n(48550),j=n(68096),y=n(94925),v=n(15712),C=n(39891),k=n(85523),w=n(79174),I=n(92506),R=n(81724),W=(n(32899),n(86586)),S=n(86194),B=n(80184),T=R.Ry().shape({storeId:R.Z_().required("\u5e97\u9762id\u5fc5\u586b"),name:R.Z_().required("\u6a5f\u53f0\u540d\u7a31\u5fc5\u586b"),code:R.Z_().required("\u6a5f\u53f0\u78bc\u5fc5\u586b"),price:R.Z_().required("\u6a5f\u53f0\u55ae\u6b21\u82b1\u8cbb\u91d1\u984d\u5fc5\u586b")});function A(e){var r=e.props,n=(0,m.Z)(),t=(0,f.TV)(n.palette.mode),a=(0,c.useState)(!1),i=(0,s.Z)(a,2),o=i[0],l=i[1],d=(0,c.useState)(!0),u=(0,s.Z)(d,2),g=u[0],b=u[1],R=function(e){b(e.target.value)},A=(0,c.useState)(!1),N=(0,s.Z)(A,2),U=N[0],_=N[1],q=function(e){_(e.target.checked)},D={storeId:"",storeName:"",name:"",code:"",price:"",description:"",counterCoin:"",counterGift:""};D.storeId=r.id,D.storeName=r.name;var E=(0,W.t)(S.GH),G=(0,s.Z)(E,2),z=G[0],P=G[1],L=(P.loading,P.error,P.data);(0,c.useEffect)((function(){L&&(console.log(L.getStore),window.location.reload())}),[L]);var M=function(){l(!o)};return o?document.body.classList.add("active-modal"):document.body.classList.remove("active-modal"),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(p.Z,{onClick:M,className:"btn-modal",sx:{color:t.primary[100],border:"1px solid #111",borderColor:t.blueAccent[100]},children:"\u65b0\u589e"}),o&&(0,B.jsxs)(x.Z,{className:"modal",children:[(0,B.jsx)(x.Z,{onClick:M,className:"overlay"}),(0,B.jsx)(x.Z,{className:"modal-content",backgroundColor:t.primary[500],children:(0,B.jsxs)(x.Z,{m:"20px",children:[D.username,(0,B.jsx)(h.Z,{variant:"h2",sx:{mb:"30px",textAlign:"center",fontSize:"1.4rem",fontWeight:"600",color:t.grey[200]},children:"\u65b0\u589e"}),(0,B.jsx)(I.J9,{onSubmit:function(e){var n={args:[{id:r.id}],name:e.name,code:e.code,price:parseInt(e.price),counterCheck:g};""!==e.description&&(n.description=e.description),U&&(n.counters=[{counterType:"coin",count:parseInt(e.counterCoin)},{counterType:"gift",count:parseInt(e.counterGift)}]),z({variables:n})},initialValues:D,validationSchema:T,children:function(e){var r=e.values,n=e.errors,a=e.touched,i=e.handleBlur,o=e.handleChange,l=e.handleSubmit;return(0,B.jsxs)("form",{onSubmit:l,children:[(0,B.jsxs)(x.Z,{color:"black",children:[(0,B.jsxs)(x.Z,{display:"flex",children:[(0,B.jsx)(Z.Z,{className:"modal_input_textfield",fullWidth:!0,disabled:!0,variant:"filled",type:"text",label:"\u5e97\u9762id",onBlur:i,onChange:o,value:r.storeId,name:"storeId",error:!!a.storeId&&!!n.storeId,helperText:a.storeId&&n.storeId,sx:{margin:"0 1rem 1rem 0",backgroundColor:t.primary[400],borderRadius:"5px",color:"black"}}),(0,B.jsx)(Z.Z,{className:"modal_input_textfield",fullWidth:!0,disabled:!0,variant:"filled",type:"text",label:"\u5e97\u9762\u540d\u7a31",onBlur:i,onChange:o,value:r.storeName,name:"storeName",error:!!a.storeName&&!!n.storeName,helperText:a.storeName&&n.storeName,sx:{margin:"0 0 1rem 0",backgroundColor:t.primary[400],borderRadius:"5px",color:"black"}})]}),(0,B.jsx)(Z.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u6a5f\u53f0\u865f\u78bc",onBlur:i,onChange:o,value:r.code,name:"code",error:!!a.code&&!!n.code,helperText:a.code&&n.code,sx:{marginBottom:"1rem",backgroundColor:t.primary[400],borderRadius:"5px"}}),(0,B.jsx)(Z.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u6a5f\u53f0\u540d\u7a31",onBlur:i,onChange:o,value:r.name,name:"name",error:!!a.name&&!!n.name,helperText:a.name&&n.name,sx:{marginBottom:"1rem",backgroundColor:t.primary[400],borderRadius:"5px"}}),(0,B.jsxs)(x.Z,{display:"flex",children:[(0,B.jsx)(Z.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u50f9\u683c (\u679a\u6578)",onBlur:i,onChange:o,value:r.price,name:"price",error:!!a.price&&!!n.price,helperText:a.price&&n.price,sx:{margin:"0 1rem 1rem 0",backgroundColor:t.primary[400],borderRadius:"5px"}}),(0,B.jsx)(Z.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u5099\u8a3b",onBlur:i,onChange:o,value:r.description,name:"description",error:!!a.description&&!!n.description,helperText:a.description&&n.description,sx:{margin:"0 0 1rem 0",backgroundColor:t.primary[400],borderRadius:"5px"}})]}),(0,B.jsxs)(j.Z,{fullWidth:!0,children:[(0,B.jsx)(y.Z,{id:"demo-simple-select-label",children:"\u6a5f\u68b0\u9336\u6aa2\u67e5"}),(0,B.jsxs)(v.Z,{sx:{borderRadius:"10px",background:t.primary[400]},labelId:"demo-simple-select-label",id:"demo-simple-select",value:g,label:"\u6a5f\u68b0\u9336\u6aa2\u67e5",onChange:R,children:[(0,B.jsx)(C.Z,{value:!0,children:"\u662f"}),(0,B.jsx)(C.Z,{value:!1,children:"\u5426"})]})]}),(0,B.jsx)(h.Z,{variant:"h4",sx:{margin:"1rem 0 .5rem 0",color:"white"},children:"\u6a5f\u68b0\u9336"}),(0,B.jsx)(x.Z,{children:(0,B.jsx)(k.Z,{control:(0,B.jsx)(w.Z,{checked:U,onChange:q,name:"countersToggle",color:"success"}),label:"\u6a5f\u68b0\u9336",style:{color:t.grey[100]}})}),(0,B.jsx)(x.Z,{display:U?"block":"none",children:(0,B.jsxs)(x.Z,{display:"flex",children:[(0,B.jsx)(Z.Z,{fullWidth:!0,variant:"filled",type:"number",label:"\u5165\u9336",onBlur:i,onChange:o,value:r.counterCoin,name:"counterCoin",error:!!a.counterCoin&&!!n.counterCoin,helperText:a.counterCoin&&n.counterCoin,sx:{margin:"0 1rem 1rem 0",backgroundColor:t.primary[400],borderRadius:"5px"}}),(0,B.jsx)(Z.Z,{fullWidth:!0,variant:"filled",type:"number",label:"\u51fa\u9336",onBlur:i,onChange:o,value:r.counterGift,name:"counterGift",error:!!a.counterGift&&!!n.counterGift,helperText:a.counterGift&&n.counterGift,sx:{margin:"0 0 1rem 0",backgroundColor:t.primary[400],borderRadius:"5px"}})]})})]}),(0,B.jsx)(x.Z,{display:"flex",justifyContent:"center",children:(0,B.jsx)(p.Z,{type:"submit",color:"success",variant:"contained",sx:{minWidth:"8rem",padding:".55rem 1rem",margin:".5rem .5rem 0 .5rem",borderRadius:"8px",background:t.blueAccent[400]},children:(0,B.jsx)(h.Z,{variant:"h5",sx:{textAlign:"center",fontSize:".9rem",color:"white"},children:"\u65b0\u589e"})})})]})}})]})})]})]})}var N=n(21996),U=n(7457),_=n(20741),q=R.Ry().shape({name:R.Z_().required("required"),price:R.Rx().required("required")});function D(e){var r=e.props,n=(0,m.Z)(),l=(0,f.TV)(n.palette.mode),d=(0,c.useState)(!1),g=(0,s.Z)(d,2),b=g[0],R=g[1],T=(0,c.useState)("disable"),A=(0,s.Z)(T,2),D=A[0],E=A[1],G=function(e){E(e.target.value)},z=(0,c.useState)(!0),P=(0,s.Z)(z,2),L=P[0],M=P[1],V=function(e){M(e.target.value)},F=(0,c.useState)(!1),H=(0,s.Z)(F,2),J=H[0],Q=H[1],O=function(e){Q(e.target.checked)},K=(0,c.useState)({id:0,UUID:"",name:"",code:"",price:0,qrCode:"",status:"",connStatus:"",desc:""}),X=(0,s.Z)(K,2),Y=X[0],$=X[1],ee=(0,W.t)(S.mE),re=(0,s.Z)(ee,2),ne=re[0],te=re[1],ae=(te.loading,te.error,te.data);(0,c.useEffect)((function(){ae&&window.location.reload()}),[ae]);var ie=function(e){window.confirm("Are you sure you want to delete this machine?")&&ne({variables:{args:[{id:r.id}]}})},oe=(0,u.a)(S.AP,{variables:{args:[{id:r.id}]}}),le=(oe.loading,oe.error,oe.data);(0,c.useEffect)((function(){if(le){var e=(0,U.Hu)(le.getMachine[0]);$({id:e.id,UUID:e.uuid,name:e.name,code:e.code,price:e.price,qrCode:e.qrCode,status:e.status.name,desc:e.description}),Ce(e.qrCode),"banned"!==e.status.name&&E(e.status.name),M(e.counterInfo.counterCheck),Array.isArray(e.counterInfo.counters)&&e.counterInfo.counters.length>0&&(Q(!0),e.counterInfo.counters.forEach((function(e){var r="".concat(e.counterType);$((function(n){return(0,i.Z)((0,i.Z)({},n),{},(0,a.Z)({},r,e.count))}))})))}}),[le]);var se=(0,W.t)(S.KF),ce=(0,s.Z)(se,2),de=ce[0],ue=ce[1],me=(ue.loading,ue.error,ue.data);(0,c.useEffect)((function(){me&&window.location.reload()}),[me]);var xe=(0,W.t)(S.bk),he=(0,s.Z)(xe,2),pe=he[0],fe=he[1],ge=(fe.loading,fe.error,fe.data);(0,c.useEffect)((function(){ge&&window.location.reload()}),[ge]);var be=function(e){window.confirm("Are you sure you want to unban this machine?")&&pe({variables:{args:[{id:r.id}],reason:"null"}})},Ze=(0,c.useState)(""),je=(0,s.Z)(Ze,2),ye=je[0],ve=je[1],Ce=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.toDataURL(r);case 3:n=e.sent,ve(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),ke=function(){R(!b)};return b?document.body.classList.add("active-modal"):document.body.classList.remove("active-modal"),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(p.Z,{onClick:ke,className:"btn-modal",sx:{color:l.primary[100],border:"1px solid #111",borderColor:l.blueAccent[100]},children:"\u4fee\u6539"}),b&&(0,B.jsxs)(x.Z,{className:"modal",children:[(0,B.jsx)(x.Z,{onClick:ke,className:"overlay"}),(0,B.jsx)(x.Z,{className:"modal-content",backgroundColor:l.primary[500],children:(0,B.jsx)(x.Z,{m:"20px",children:(0,B.jsx)(I.J9,{onSubmit:function(e){var n={args:[{id:r.id}],name:e.name,description:e.desc,statusId:"banned"===Y.status?null:D,price:parseInt(e.price),counterCheck:L};J&&(n.counters=[{counterType:"coin",count:parseInt(e.coin)},{counterType:"gift",count:parseInt(e.gift)}]),de({variables:n})},initialValues:Y,validationSchema:q,children:function(e){var n=e.values,t=e.errors,a=e.touched,i=e.handleBlur,o=e.handleChange,s=e.handleSubmit;return(0,B.jsxs)("form",{onSubmit:s,children:[(0,B.jsxs)(x.Z,{color:"black",children:[(0,B.jsxs)(x.Z,{display:"flex",children:[(0,B.jsxs)(x.Z,{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",children:[(0,B.jsx)(h.Z,{variant:"h2",sx:{fontSize:"2rem",fontWeight:"600",color:l.grey[200]},children:"\u4fee\u6539"}),"disable"===Y.status?(0,B.jsx)(h.Z,{variant:"h5",color:l.primary[100],sx:{margin:".5rem 0"},children:"\u505c\u7528"}):"banned"===Y.status?(0,B.jsx)(h.Z,{variant:"h5",color:l.redAccent[500],sx:{margin:".5rem 0"},children:"\u5c01\u9396"}):"removed"===Y.status?(0,B.jsx)(h.Z,{variant:"h5",color:l.redAccent[500],sx:{margin:".5rem 0"},children:"\u5220\u9664"}):(0,B.jsx)(h.Z,{variant:"h5",color:l.greenAccent[300],sx:{margin:".5rem 0"},children:"\u6b63\u5e38"})]}),(0,B.jsxs)(x.Z,{display:"flex",justifyContent:"center",padding:".5rem",flexDirection:"column",children:[ye?(0,B.jsx)("a",{href:ye,download:Y.name+".jpg",children:(0,B.jsx)("img",{src:ye,alt:"qrcode",width:"100px",height:"auto"})}):null,(0,B.jsx)(h.Z,{variant:"h5",color:l.grey[500],sx:{textAlign:"center",fontSize:"10px",margin:"0rem .5rem"},children:"Click to download"})]})]}),(0,B.jsxs)(x.Z,{display:"flex",justifyContent:"center",children:[(0,B.jsx)(Z.Z,{className:"modal_input_textfield",fullWidth:!0,variant:"filled",type:"text",label:"\u6a5f\u53f0\u540d\u7a31",onBlur:i,onChange:o,value:n.name,name:"name",error:!!a.name&&!!t.name,helperText:a.name&&t.name,sx:{margin:"0 1rem 1rem 0",backgroundColor:l.primary[400],borderRadius:"5px",color:"black"}}),(0,B.jsxs)(j.Z,{sx:{minWidth:150},children:[(0,B.jsx)(y.Z,{id:"demo-simple-select-label",children:Y.status}),(0,B.jsxs)(v.Z,{disabled:"banned"===Y.status,sx:{borderRadius:"10px",background:l.primary[400]},labelId:"demo-simple-select-label",id:"demo-simple-select",value:D,label:"status",onChange:G,children:[(0,B.jsx)(C.Z,{value:"normal",children:"\u6b63\u5e38"}),(0,B.jsx)(C.Z,{value:"disable",children:"\u505c\u7528"})]})]})]}),(0,B.jsx)(Z.Z,{className:"modal_input_textfield",fullWidth:!0,disabled:!0,variant:"filled",type:"text",label:"UUID",onBlur:i,onChange:o,value:n.UUID,name:"UUID",error:!!a.UUID&&!!t.UUID,helperText:a.UUID&&t.UUID,sx:{margin:"0 1rem 1rem 0",backgroundColor:l.primary[400],borderRadius:"5px",color:"black"}}),(0,B.jsx)(Z.Z,{fullWidth:!0,disabled:!0,variant:"filled",type:"text",label:"\u6a5f\u53f0\u865f\u78bc",onBlur:i,onChange:o,value:n.code,name:"code",error:!!a.code&&!!t.code,helperText:a.code&&t.code,sx:{marginBottom:"1rem",backgroundColor:l.primary[400],borderRadius:"5px"}}),(0,B.jsx)(Z.Z,{fullWidth:!0,disabled:!0,variant:"filled",type:"text",label:"QR Code Payload",onBlur:i,onChange:o,value:n.qrCode,name:"qrCode",error:!!a.qrCode&&!!t.qrCode,helperText:a.qrCode&&t.qrCode,sx:{marginBottom:"1rem",backgroundColor:l.primary[400],borderRadius:"5px"}}),(0,B.jsxs)(x.Z,{display:"flex",children:[(0,B.jsx)(Z.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u6a5f\u53f0\u55ae\u6b21\u82b1\u8cbb\u91d1\u984d",onBlur:i,onChange:o,value:n.price,name:"price",error:!!a.price&&!!t.price,helperText:a.price&&t.price,sx:{margin:"0 1rem 1rem 0",backgroundColor:l.primary[400],borderRadius:"5px"}}),(0,B.jsx)(Z.Z,{fullWidth:!0,variant:"filled",type:"text",label:"\u5099\u8a3b",onBlur:i,onChange:o,value:n.desc,name:"desc",error:!!a.desc&&!!t.desc,helperText:a.desc&&t.desc,sx:{marginBottom:"1rem",backgroundColor:l.primary[400],borderRadius:"5px"}})]}),(0,B.jsxs)(j.Z,{fullWidth:!0,children:[(0,B.jsx)(y.Z,{id:"demo-simple-select-label",children:"\u6a5f\u68b0\u9336\u6aa2\u67e5"}),(0,B.jsxs)(v.Z,{sx:{borderRadius:"10px",background:l.primary[400]},labelId:"demo-simple-select-label",id:"demo-simple-select",value:L,label:"\u6a5f\u68b0\u9336\u6aa2\u67e5",onChange:V,children:[(0,B.jsx)(C.Z,{value:!0,children:"\u662f"}),(0,B.jsx)(C.Z,{value:!1,children:"\u5426"})]})]}),(0,B.jsx)(h.Z,{variant:"h4",sx:{margin:"1rem 0 .5rem 0",color:"white"},children:"\u6a5f\u68b0\u9336"}),(0,B.jsx)(x.Z,{children:(0,B.jsx)(k.Z,{control:(0,B.jsx)(w.Z,{checked:J,onChange:O,name:"countersToggle",color:"success"}),label:"\u6a5f\u68b0\u9336",style:{color:l.grey[100]}})}),(0,B.jsx)(x.Z,{display:J?"block":"none",children:(0,B.jsxs)(x.Z,{display:"flex",children:[(0,B.jsx)(Z.Z,{fullWidth:!0,variant:"filled",type:"number",label:"\u5165\u9336",onBlur:i,onChange:o,value:n.coin,name:"coin",error:!!a.coin&&!!t.coin,helperText:a.coin&&t.coin,sx:{margin:"0 1rem 1rem 0",backgroundColor:l.primary[400],borderRadius:"5px"}}),(0,B.jsx)(Z.Z,{fullWidth:!0,variant:"filled",type:"number",label:"\u51fa\u9336",onBlur:i,onChange:o,value:n.gift,name:"gift",error:!!a.gift&&!!t.gift,helperText:a.gift&&t.gift,sx:{margin:"0 0 1rem 0",backgroundColor:l.primary[400],borderRadius:"5px"}})]})})]}),(0,B.jsx)(x.Z,{display:"flex",justifyContent:"center",children:(0,B.jsxs)(x.Z,{display:"flex",justifyContent:"center",children:[(0,B.jsx)(p.Z,{onClick:ie,id:n.id,variant:"contained",sx:{minWidth:"100px",padding:".5rem 1.5rem",margin:"0 1rem",borderRadius:"10px",border:"2px solid #ff2f00"},children:(0,B.jsx)(h.Z,{variant:"h5",sx:{textAlign:"center",fontSize:".9rem",color:"white"},children:"\u79fb\u9664"})}),"banned"===n.status?(0,B.jsx)(p.Z,{onClick:be,id:n.id,variant:"contained",sx:{minWidth:"100px",padding:".5rem 1.5rem",margin:"0 1rem",borderRadius:"10px",border:"2px solid #fff"},children:(0,B.jsx)(h.Z,{variant:"h5",sx:{textAlign:"center",fontSize:".9rem",color:"white"},children:"\u89e3\u5c01"})}):(0,B.jsx)(N.Z,{props:{type:"machine",id:r.id}}),(0,B.jsx)(p.Z,{type:"submit",color:"success",sx:{minWidth:"100px",padding:".5rem 1.5rem",margin:"0 1rem",borderRadius:"10px",background:l.grey[100]},children:(0,B.jsx)(h.Z,{variant:"h5",sx:{textAlign:"center",fontSize:".9rem",color:l.grey[700]},children:"\u66f4\u65b0"})})]})})]})}})})})]})]})}var E=n(92879),G=n(18345),z=n(35125),P=n(67381),L=n(98551),M=function(){var e=(0,d.TH)().state,r=(0,m.Z)(),n=(0,f.TV)(r.palette.mode),Z=((0,c.useContext)(f.kc),(0,c.useState)(10)),j=(0,s.Z)(Z,2),y=j[0],v=j[1],C=(0,c.useState)(0),k=(0,s.Z)(C,2),w=k[0],I=k[1],R=(0,c.useState)(1),W=(0,s.Z)(R,2),T=W[0],N=W[1],U=function(e){var r=e.limit,n=e.offset;v(r),I(n),N(n/r+1)},q=(0,c.useState)([]),M=(0,s.Z)(q,2),V=M[0],F=M[1],H=(0,c.useState)([]),J=(0,s.Z)(H,2),Q=J[0],O=J[1],K=(0,c.useState)({}),X=(0,s.Z)(K,2),Y=X[0],$=X[1],ee=(0,c.useRef)(""),re=(0,u.a)(S.ul,{variables:{args:[{id:e.data.id}],limit:y,offset:w}}),ne=re.loading,te=re.error,ae=re.data;(0,c.useEffect)((function(){ae&&(O(ae.getStore[0].managerGetMachines),F(ae.getStore[0].managerGetMachines))}),[ae]);var ie=function(e,r){var n=r;return e.filter((function(e){return e.code.match(new RegExp(n,"g"))||e.name.match(new RegExp(n,"g"))}))};(0,c.useEffect)((function(){if(Q){var e,r=(0,l.Z)(Q);try{for(r.s();!(e=r.n()).done;){var n=e.value;oe(n.name,n.qrCode)}}catch(t){r.e(t)}finally{r.f()}}}),[Q]),(0,c.useEffect)((function(){$({});var e,r=w,n=w+y,t=Q.slice(r,n),a=(0,l.Z)(t);try{for(a.s();!(e=a.n()).done;){var i=e.value;oe(i.name,i.qrCode)}}catch(o){a.e(o)}finally{a.f()}}),[w,y,Q]);var oe=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r,n){var o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.toDataURL(n);case 3:o=e.sent,$((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},r,o))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,n){return e.apply(this,arguments)}}();return ne?(0,B.jsx)(P.Z,{}):te?(0,B.jsx)(L.Z,{}):(0,B.jsxs)(x.Z,{p:2,position:"flex",flexDirection:"column",children:[(0,B.jsxs)(x.Z,{height:"15%",children:[(0,B.jsxs)("h1",{className:"userManagement_title",children:[e.data.name," - \u6a5f\u53f0\u7ba1\u7406"]}),(0,B.jsxs)(h.Z,{variant:"h5",sx:{color:n.grey[400],margin:"-1rem 0 1rem 0"},children:[e.data.location.city," - ",e.data.location.district," - ",e.data.location.address]})]}),(0,B.jsxs)(x.Z,{className:"flex_media",marginBottom:"2rem",height:"10%",alignItems:"center",children:[(0,B.jsx)(x.Z,{display:"flex",backgroundColor:n.primary[400],borderRadius:"10px",height:"52px",maxWidth:150,children:(0,B.jsx)(g.ZP,{sx:{ml:2,pr:2,flex:1,minWidth:"200px"},placeholder:"\u6a5f\u53f0\u540d\u7a31",inputRef:ee})}),(0,B.jsxs)(p.Z,{sx:{backgroundColor:n.primary[300],color:n.grey[100],minWidth:"120px",height:"52px",borderRadius:"10px",":hover":{bgcolor:n.primary[300],border:"1px solid white"}},onClick:function(){var e=ee.current.value;if(e.length>2){var r=ie(Q,e);O(r)}else O(V)},children:[(0,B.jsx)(b.Z,{sx:{mr:"10px",fontsize:".8rem",color:"white"}}),(0,B.jsx)(h.Z,{color:"white",variant:"h5",fontWeight:"500",children:"\u67e5\u8a62"})]}),(0,B.jsxs)(x.Z,{display:"flex",borderRadius:"10px",marginLeft:"auto",gap:"1rem",children:[(0,B.jsx)(p.Z,{sx:{backgroundColor:n.primary[300],color:n.grey[100],minWidth:"120px",height:"52px",borderRadius:"10px",":hover":{bgcolor:n.primary[300],border:"1px solid white"}},onClick:function(){var r=Object.keys(Y);(function(e,r){var n=new z.ZP;return e.forEach((function(e,t){var a=t%2===0?10:105,i=Math.floor(t/2)%2===0?10:148;n.addImage(e,"JPEG",a,i,88,88),n.text(r[t],a+44,i+88,{align:"center"}),t%4===3&&n.addPage()})),n})(Object.values(Y),r).save("".concat(T,"_").concat(e.data.name,"_\u6a5f\u53f0_QR.pdf"))},children:(0,B.jsx)(h.Z,{color:"white",variant:"h5",fontWeight:"500",children:"\u4e0b\u8f09 QR"})}),(0,B.jsx)(A,{props:e.data})]})]}),(0,B.jsxs)(x.Z,{backgroundColor:n.primary[400],borderRadius:"10px",height:"45%",children:[(0,B.jsxs)(x.Z,{display:"flex",justifyContent:"center",borderBottom:"0px solid ".concat(n.primary[500]),colors:n.grey[100],p:"15px",children:[(0,B.jsx)(x.Z,{width:"90%",children:(0,B.jsx)(E.Z,{limit:y,offset:w,onPageChange:U})}),(0,B.jsx)(x.Z,{width:"10%",children:(0,B.jsx)(G.Z,{limit:y,offset:w,onPageChange:U})})]}),(0,B.jsxs)(x.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"4px solid ".concat(n.primary[500]),background:n.grey[300],p:"10px",children:[(0,B.jsx)(x.Z,{width:"20%",display:"flex",alignItems:"center",justifyContent:"center",children:(0,B.jsx)(h.Z,{color:n.grey[100],variant:"h5",fontWeight:"500",children:"UUID"})}),(0,B.jsx)(x.Z,{width:"20%",display:"flex",alignItems:"center",justifyContent:"center",children:(0,B.jsx)(h.Z,{color:n.grey[100],variant:"h5",fontWeight:"500",children:"\u6a5f\u53f0\u540d\u7a31"})}),(0,B.jsx)(x.Z,{width:"20%",display:"flex",alignItems:"center",justifyContent:"center",children:(0,B.jsx)(h.Z,{color:n.grey[100],variant:"h5",fontWeight:"500",children:"\u6a5f\u53f0\u865f\u78bc"})}),(0,B.jsx)(x.Z,{width:"20%",display:"flex",alignItems:"center",justifyContent:"center",children:(0,B.jsx)(h.Z,{color:n.grey[100],variant:"h5",fontWeight:"500",children:"\u9023\u63a5\u72c0\u614b"})}),(0,B.jsx)(x.Z,{width:"20%",display:"flex",alignItems:"center",justifyContent:"center",children:(0,B.jsx)(h.Z,{color:n.grey[100],variant:"h5",fontWeight:"500",children:"\u66f4\u65b0\u8cc7\u6599"})})]}),(0,B.jsx)(x.Z,{backgroundColor:n.primary[400],borderRadius:"10px",height:"100%",overflow:"auto",children:Q.map((function(e,r){return(0,B.jsxs)(x.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"3px solid ".concat(n.primary[500]),p:"10px",children:[(0,B.jsx)(x.Z,{width:"20%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"0 1rem",children:e.uuid}),(0,B.jsx)(x.Z,{width:"20%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",children:e.name}),(0,B.jsx)(x.Z,{width:"20%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",children:e.code}),(0,B.jsx)(x.Z,{width:"20%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",children:!0===e.connStatus?(0,B.jsx)(h.Z,{variant:"h5",color:n.greenAccent[400],sx:{margin:".5rem .5rem"},children:"\u9023\u7dda\u4e2d"}):(0,B.jsx)(h.Z,{variant:"h5",color:n.redAccent[500],sx:{margin:".5rem .5rem"},children:"\u5df2\u65b7\u7dda"})}),(0,B.jsx)(x.Z,{width:"20%",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",children:(0,B.jsx)(D,{props:e})})]},"".concat(e.id,"-").concat(r))}))})]})]})}}}]);
//# sourceMappingURL=511.9613afcd.chunk.js.map